<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Emoji Clues: Decode the Online Safety Tip</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&family=Exo+2:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --purple:#52247F;
      --pink:#ed1d6b;
      --yellow:#ffd24f;
      --orange:#f9a01b;
      --teal:#83cfca;
      --ink:#fff;
      --bg1:#0f0c29;
      --bg2:#302b63;
      --bg3:#24243e;
      --radius:10px;
      --box:38px;
      --box-sm:30px;
    }

    *{box-sizing:border-box}
    body{
      margin:0; color:var(--ink); font-family:'Exo 2', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: linear-gradient(120deg, var(--bg1), var(--bg2), var(--bg3));
      background-size: 300% 300%;
      animation: bgShift 20s linear infinite;
      display:flex; justify-content:center; align-items:center; min-height:100vh; text-align:center;
      font-size: 1rem;
  position: relative;
  z-index: 0;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 0;
      opacity: 0.18;
      background-image:
        repeating-linear-gradient(135deg, #fff2 0px, #fff2 2px, transparent 2px, transparent 32px),
        repeating-linear-gradient(45deg, #fff2 0px, #fff2 2px, transparent 2px, transparent 32px);
      background-blend-mode: lighten;
    }
    }
    @keyframes bgShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    header{ margin-bottom:20px; }
    header h1{
      font-family:'Orbitron', sans-serif;
      font-size:1.8rem; color:#fff; text-shadow:0 0 8px var(--pink),0 0 16px var(--pink);
      margin:0;
    }
    header h3{
      font-family:'Exo 2', sans-serif;
      font-size:1rem; color:var(--yellow); margin:6px 0 0 0; font-weight:500;
    }

    .card{
  background:rgba(0,0,0,0.6);
  border:4px solid var(--teal);
  border-radius:var(--radius);
  padding:24px; max-width:700px; width:90%;
  box-shadow:0 0 20px var(--teal),0 0 40px var(--pink);
  margin:auto;
  font-size:1rem;
  position: relative;
  z-index: 2;
    }

    h2{color:var(--yellow); margin:0 0 16px; font-size:1.2rem; font-family:'Orbitron', sans-serif;}
    .emoji{font-size:1.6rem; margin:12px 0}
    #char-count{color:var(--orange); margin-bottom:12px; font-size:0.9rem}
    #hint{color:var(--teal); min-height:1.5em; font-size:0.95rem}

    .boxes{display:flex;flex-direction:column;gap:8px;align-items:center;margin:14px 0}
    .row{display:flex;flex-wrap:wrap;justify-content:center}
    .letter{width:var(--box);height:var(--box);margin:3px;border-radius:4px;border:2px solid var(--yellow);
      text-align:center;font-weight:700;font-size:1.2rem; background:#111; color:#fff;
      text-transform:uppercase; box-shadow:inset 0 0 5px #000,0 0 10px var(--yellow);
      font-family:'Orbitron', sans-serif;
    }
    .letter[disabled]{background:#333; color:#aaa}
    .hyph{width:18px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem}

    .btns{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:16px}
    button{font-family:'Orbitron', sans-serif;font-size:0.85rem;padding:0.7rem 1.2rem;cursor:pointer;border:2px solid #fff;background:#000;color:#fff;text-transform:uppercase;text-shadow:0 0 6px var(--pink); font-weight:600}
    .primary{border-color:var(--pink); box-shadow:0 0 8px var(--pink)}
    .primary:hover{background:var(--pink); color:#000}
    .secondary{border-color:var(--yellow); box-shadow:0 0 8px var(--yellow); color:var(--yellow)}
    .secondary:hover{background:var(--yellow); color:#000}
    button[disabled]{opacity:.5; cursor:not-allowed}

    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:12px;font-size:0.9rem;color:var(--yellow)}
    #feedback{margin-top:12px;min-height:1.4em;font-size:0.95rem}
    .correct{color:lime}
    .wrong{color:var(--pink)}

    .twrap{width:100%;height:12px;background:#222;border:2px solid var(--teal);margin-top:14px}
  .tbar{height:100%;background:linear-gradient(90deg,var(--pink),var(--orange),var(--purple));transition:width .3s}

    #end h2{color:var(--pink); font-size:1.4rem; font-family:'Orbitron', sans-serif;}
    #final-score{display:inline-block;padding:6px 10px;margin-top:6px;background:#000;color:#fff;border:2px solid var(--yellow); font-size:1rem}
    .tips{margin-top:14px;font-size:0.9rem;color:#fff;text-align:center;font-family:'Exo 2', sans-serif;}
    .tips ul{padding-left:0;list-style-position:inside;text-align:center}
    .tips p{margin:8px 0}

    /* Mobile tweaks to fit up to 8 letters on one line */
    @media(max-width:480px){
      :root{ --box-sm:36px; }
      .letter{width:var(--box-sm);height:var(--box-sm);font-size:1rem;margin:1.5px}
      .hyph{width:14px;font-size:1rem}
      .card{width:94%;padding:20px}
    }
  </style>
</head>
<body>
  <div class="card" id="container">
    <header>
      <h1>üéÆ Emoji Clues üéÆ</h1>
      <h3>Decode the Online Safety Tip</h3>
    </header>

    <!-- START -->
    <section id="start-screen">
      <h2>How to Play</h2>
      <p style="font-size:0.95rem;line-height:1.6">Guess the missing word from the emoji clue. Submit to score points!<br>Use hints (‚àí1 point) or skip. You have 60 seconds!</p>
      <div class="btns"><button class="primary" id="start-btn">Start Game</button></div>
    </section>

    <!-- QUIZ -->
    <section id="quiz" style="display:none">
      <div class="emoji" id="emoji"></div>
      <div id="char-count"></div>
      <div id="hint"></div>
      <form id="form">
        <div id="boxes" class="boxes"></div>
         <div id="feedback"></div>
        <div class="btns">
          <button type="submit" class="primary">Submit</button>
          <button type="button" class="secondary" id="hint-btn">Hint (<span id="hint-count">5</span>)</button>
          <button type="button" class="secondary" id="skip-btn">Skip</button>
        </div>
      </form>
      <div class="meta">
        <div id="score">Score: <span id="score-val">0</span></div>
        <div id="timer">‚è± <span id="time">60</span>s</div>
      </div>
      <div class="twrap"><div class="tbar" id="tbar" style="width:100%"></div></div>
     
    </section>

    <!-- END -->
    <section id="end" style="display:none">
      <h2>Time is up!</h2>
      <div id="end-msg"></div>
      <div>Your final score:</div><br>
      <div id="final-score"></div>
      <div class="tips">
        <p>Keep practising positive digital habits with these actions:</p>
        <ul>
          <li>üîí Set boundaries online</li>
          <li>üí≠ Think before you act</li>
          <li>üö© Report inappropriate content</li>
          <li>üó£Ô∏è Engage and Support</li>
        </ul>
        <p>Find out more on the <a href="https://go.gov.sg/surf-smart-scroll-safe" target="_blank" style="color:var(--yellow)">Digital for Life portal</a>.</p>
      </div><br>
      <div class="btns">
        <button class="primary" id="again">Play Again</button>
        <button class="secondary" id="home">Back to Home</button>
      </div>
    </section>
  </div>

  <script>
    const words=[
      {word:"privacy",emoji:"set üëÅÔ∏è settings",hint:"Controls who can see your info online."},
      {word:"personal",emoji:"secure üë§ information",hint:"Your name, address, or birthday."},
      {word:"balance",emoji:"‚öñÔ∏è your time online",hint:"Ensure you have offline time too."},
      {word:"digital",emoji:"manage üåê footprints",hint:"What you leave behind online."},
      {word:"block",emoji:"üö´ abusive users",hint:"Stop someone from messaging or contacting you."},
      {word:"think",emoji:"üí≠ before you post",hint:"Pause before making your next move online."},
      {word:"fake",emoji:"spot ‚ùå news",hint:"It spreads lies, not facts."},
      {word:"scams",emoji:"check for üí∏",hint:"Some offers are too good to be true."},
      {word:"kind",emoji:"be ü•∞ online",hint:"Be respectful and gracious in digital spaces."},
      {word:"support",emoji:"ü§ù others in need",hint:"Show care when someone is upset or bullied online."},
      {word:"flag",emoji:"üö© inappropriate content",hint:"Mark posts or messages that break community rules."},
      {word:"report",emoji:"üì¢ harmful behaviours",hint:"Tell someone or a platform about abuse or threats."},
      {word:"help",emoji:"seek üÜò when unsure",hint:"If something feels wrong, talk to someone you trust."},
      {word:"person",emoji:"reach out to a trusted üôãüèª‚Äç‚ôÄÔ∏è",hint:"Talk to a parent, teacher, or older sibling for advice."},
      {word:"strong",emoji:"use üí™ passwords",hint:"Create long, hard-to-guess passphrases for safety."}
    ];

    let remaining=[],current=null,hintsLeft=5,hintUsed=false,timer=60,score=0,tick=null,totalTime=60;
    const $=id=>document.getElementById(id);

    function start(){
      remaining=[...words];shuffle(remaining);hintsLeft=5;score=0;timer=totalTime;
      $('hint-count').textContent=hintsLeft; $('score-val').textContent=score; $('feedback').textContent='';
      $('start-screen').style.display='none';$('end').style.display='none';$('quiz').style.display='block';
      pick(); clearInterval(tick); updateTimerBar();
      tick=setInterval(()=>{timer--;$('time').textContent=timer;updateTimerBar();if(timer<=0){clearInterval(tick);end();}},1000);
    }

    function end(){
      $('quiz').style.display='none'; $('final-score').textContent=score; $('end-msg').textContent=endMessage(score); $('end').style.display='block';
    }

    function endMessage(s){
      if(s>=40)return"üåü Impressive work! You're a safety guru!";
      if(s>=25)return"üëè Awesome work!";
      if(s>=12)return"üôå Nice try!";
      return"üëç Great try!";
    }

    function updateTimerBar(){const pct=Math.max(0,(timer/totalTime)*100);$('tbar').style.width=pct+'%';}

    function pick(){
      if(remaining.length===0){clearInterval(tick);return end();}
      $('hint').textContent='';$('feedback').textContent='';hintUsed=false;$('hint-btn').disabled=false;
      current=remaining.shift();$('emoji').textContent=current.emoji;updateCharCount(current.word);buildBoxes(current.word);
      setTimeout(()=>{const first=document.querySelector('.letter:not([disabled])');if(first){first.focus();first.select();}},100);
    }

    function updateCharCount(word){const counts=word.split(' ').map(p=>p.length);$('char-count').textContent=`(${counts.join(', ')})`;}

    function buildBoxes(word){
      const cont=$('boxes'); cont.innerHTML='';
      const parts=word.split(' ');
      parts.forEach((part,idx)=>{
        const row=document.createElement('div'); row.className='row';
        for(let i=0;i<part.length;i++){
          const ch=part[i];
          if(ch==='-'){
            const hy=document.createElement('span'); hy.className='hyph'; hy.textContent='-'; row.appendChild(hy);
          } else {
            const input=document.createElement('input');
            input.type='text'; input.maxLength=1; input.className='letter'; input.autocomplete='off'; input.inputMode='text'; input.style.textTransform='uppercase';
            if(i===0){ input.value=ch.toUpperCase(); input.disabled=true; }
            row.appendChild(input);
          }
        }
        cont.appendChild(row);
      });

      // auto advance typing
      const inputs=cont.querySelectorAll('.letter');
      inputs.forEach((inp,idx)=>{
        if(!inp.disabled){
          inp.addEventListener('input',function(){
            this.value=this.value.toUpperCase();
            if(this.value && idx<inputs.length-1){
              inputs[idx+1].focus();
            }
          });
          inp.addEventListener('keydown',function(e){
            if(e.key==='Backspace' && !this.value && idx>0){
              inputs[idx-1].focus();
            }
          });
        }
      });
    }

    function useHint(){if(hintUsed||hintsLeft<=0)return;$('hint').textContent=current.hint;hintsLeft--;hintUsed=true;$('hint-count').textContent=hintsLeft;$('hint-btn').disabled=true;score=Math.max(0,score-1);$('score-val').textContent=score;}

    function skip(){if(current)remaining.push(current);pick();}

    function home(){$('quiz').style.display='none';$('end').style.display='none';$('start-screen').style.display='block';}

    function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}}

    document.addEventListener('DOMContentLoaded',()=>{
      $('start-btn').addEventListener('click',start);
      $('again').addEventListener('click',start);
      $('home').addEventListener('click',home);
      $('hint-btn').addEventListener('click',useHint);
      $('skip-btn').addEventListener('click',skip);
      $('form').addEventListener('submit',e=>{e.preventDefault();const inputs=[...document.querySelectorAll('.letter')];const ans=inputs.map(i=>i.value).join('').replace(/-/g,'');const correct=current.word.replace(/-/g,'');if(ans.toLowerCase()===correct.toLowerCase()){score+=3;$('score-val').textContent=score;$('feedback').textContent='Correct!';$('feedback').className='correct';pick();}else{score=Math.max(0,score-1);$('score-val').textContent=score;$('feedback').textContent='Try again!';$('feedback').className='wrong';}});
    });
  </script>
</body>
</html>
